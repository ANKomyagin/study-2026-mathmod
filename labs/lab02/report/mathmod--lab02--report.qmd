	---
## Author
author:
  name: Комягин Андрей Николаевич
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1132236126@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №2"
subtitle: "Задача о погоне"
license: "CC BY"
---

# Цель работы

Решить задачу о погоне и визуализировать график функций с помощью языков программирования
	
# Задание

* Решить задачу о погоне математически

* Написать решение кодом

# Выполнение лабораторной работы

## Условие задачи (вариант 57)

На море в тумане катер береговой охраны преследует лодку браконьеров.
Через определенный промежуток времени туман рассеивается, и лодка
обнаруживается на расстоянии 20,1 км от катера. Затем лодка снова скрывается в
тумане и уходит прямолинейно в неизвестном направлении. Известно, что скорость
катера в 5 раз больше скорости браконьерской лодки.

1. Запишите уравнение, описывающее движение катера, с начальными
условиями для двух случаев (в зависимости от расположения катера
относительно лодки в начальный момент времени).

2. Постройте траекторию движения катера и лодки для двух случаев.

3. Найдите точку пересечения траектории катера и лодки 

## Решение задачи (математически)

Прямолинейное движение катера до выхода на радиус лодки (для двух случаев)([рис. @fig-001]).

![нахождение радиусов](image/1.png){#fig-001 width=70%}

Нахождение тангенциальной скорости и вывод функции движения катера по окружности ([рис. @fig-002]).

![движение катера по окружности](image/2.png){#fig-002 width=70%}

## Программное решение

```Julia

using DifferentialEquations
using Plots

s = 20.1
n = 5.0           
fi = 3*pi/4       

r0_1 = s / (n + 1) # Случай 1: 3.35
r0_2 = s / (n - 1) # Случай 2: 5.025

# t - угол θ, а u — радиус r
function pursuit_ode(u, p, t)
    return u / sqrt(24)
end

# случай 1
tspan1 = (0.0, 2*pi)
prob1 = ODEProblem(pursuit_ode, r0_1, tspan1)
sol1 = solve(prob1, abstol=1e-8, reltol=1e-8)

# случай 2
tspan2 = (-pi, pi)
prob2 = ODEProblem(pursuit_ode, r0_2, tspan2)
sol2 = solve(prob2, abstol=1e-8, reltol=1e-8)


# движение лодки
boat_x(t) = t * tan(0) # Лодка просто движется по лучу

# график 1
p1 = plot(sol1, proj=:polar, label="Катер", title="Случай 1 (s/(n+1))", c=:red, lw=2)
plot!(p1, [0.0, 0.0], [0.0, maximum(sol1.u)], label="Лодка", c=:green, lw=2)
savefig(p1, "lab2_case1.png")

# график 2
p2 = plot(sol2, proj=:polar, label="Катер", title="Случай 2 (s/(n-1))", c=:blue, lw=2)
plot!(p2, [0.0, 0.0], [0.0, maximum(sol2.u)], label="Лодка", c=:green, lw=2)
savefig(p2, "lab2_case2.png")

```

График для первого случая ([рис. @fig-003]).

![график 1](image/3.png){#fig-003 width=70%}

График для второго случая ([рис. @fig-004]).

![график 2](image/4.png){#fig-004 width=70%}


```modelica

model PursuitProblem
  parameter Real s = 20.1;
  parameter Real n = 5.0;
  parameter Real fi = 3*pi/4;
  
  parameter Real r0_1 = s / (n + 1);
  Real r1;
  
  parameter Real r0_2 = s / (n - 1);
  Real r2;
  
  parameter Real t_start1 = 0.0;
  parameter Real t_end1 = 2*pi;
  
  parameter Real t_start2 = -pi;
  parameter Real t_end2 = pi;
  
equation
  der(r1) = r1 / sqrt(24);
  der(r2) = r2 / sqrt(24);
  
initial equation
  r1 = r0_1;
  r2 = r0_2;
  
  annotation(experiment(StopTime=6.28, Interval=0.01));
end PursuitProblem;

```

## Сравнение реализаций на Julia и OpenModelica

| Характеристика | Julia | OpenModelica |
|----------------|-------|--------------|
| **Парадигма** | Императивная (последовательное выполнение) | Декларативная (описание уравнений) |
| **Определение ОДУ** | Функция возвращает производную | Уравнение `der(r) = r / sqrt(24)` |
| **Начальные условия** | Передаются в ODEProblem | Блок initial equation |
| **Интервал интегрирования** | Явно задаётся как tspan | Определяется experiment(StopTime=...) |
| **Точность** | Явное задание abstol/reltol | Управляется настройками солвера |
| **Переменные** | Обычные переменные | Разделение на parameter и Real |
| **Графика** | Plots.jl с полярными координатами | Встроенный построитель OMEdit |
| **Управление временем** | Разные интервалы для случаев | Единое время, переменные считаются одновременно |
| **Подход к решению** | Явный вызов solve() | Автоматическая интеграция |
| **Математическая запись** | Скрыта в численном методе | Близка к математической нотации |


# Выводы

В ходе выполнения лабораторной работы была решена задача о погоне, а также проведено моделирование ситуации. Был выведен результат в виде графика
